#!/usr/bin/env node

const program = require('commander')
const init = require('../command/init')
const start = require('../command/start')
const build = require('../command/build')

program
  .command('init <模板名称> [项目名称]')
  .description('指定一个模板，用其初始化一个项目')
  .option('-t --type <type>', '指定项目类型', /^(?:html|wap)$/i, 'html')
  .option('-w --weixin', '使用微信')
  .option('-c, --clone', '使用git clone')
  .action(init)
  .on('--help', function () {
    console.log()
    console.log('  示例:')
    console.log()
    console.log('    $ talk init static demo')
    console.log('    $ talk init vue demo')
    console.log()
  })

program
  .command('start [project]')
  .description('开发一个项目')
  .action(start)

program
  .command('build [project]')
  .description('打包一个项目')
  .action(build)

program
  .command('*', { isDefault: true })
  .action(() => {
    program.help(txt => txt)
  })

program.parse(process.argv)
